#######################################################################################################################
#                                            _                                   _                                    #
#                                     |     | |                                 | |                                   #
#                                   __|   _ | |          __,   __   __   _  _   | |                                   #
#                                  /  |  |/ |/ \_|   |  /  |  /    /  \_/ |/ |  |/                                    #
#                                  \_/|_/|__/\_/  \_/|_/\_/|/o\___/\__/   |  |_/|__/                                  #
#                                                   /|                    |\                                          #
#                                                   \|                    |/                                          #
#######################################################################################################################
#
# this configure file location /etc/logstash/conf.d/debug.conf
#


# =====================================================================================================================
# 输入配置部分
# =====================================================================================================================
input {
    stdin {}
}


# =====================================================================================================================
# 格式配置部分
# =====================================================================================================================
filter {
    ruby {
        code => "event.set('timestamp', (event.get('@timestamp').time.localtime).strftime('%Y-%m-%d %H:%M:%S.%L'))"
    }
    mutate {
        remove_field => ["@version"]
        remove_field => ["@timestamp"]
        remove_field => ["host"]
    }
}


# =====================================================================================================================
# 输出配置部分
# =====================================================================================================================
output {
    stdout {
        codec => rubydebug {}
    }
}
